---
- name: Check for existing Satellite deployment before continuing
  roles:
    - check-for-existing-satellite

- name: Configure OS
  roles:
    - hostname
    - firewall
    - etc-hosts
    - register

- name: Install and Configure Satellite
  roles:
    - install-satellite
    - manifest
    - sync-plan
    - lazy-sync
    - lifecycle-environments
    - product-repo-RHEL7
    - product-repo-EPEL7
    - ccv-RHEL7-EPEL
    - product-repo-EAP7
    - ccv-RHEL7-EAP
    - activation-keys
    - provision-libvirt
    - ansible-tower-sync-prep
